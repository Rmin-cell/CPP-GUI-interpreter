# Makefile

### Basic Structure of a Makefile
A Makefile consists of **rules**, which describe how to build or update a target. The structure of a rule is:

```make
target: dependencies
    command
```

- `target`: This is the file that is generated by the rule (e.g., an executable, object file).
- `dependencies`: These are files that the target depends on (e.g., source files, object files).
- `command`: This is the shell command that `make` executes to create the target (e.g., compiling, linking).

### Basic Syntax of Makefile:

#### 1. **Variables:**
You can define variables to avoid repetition. For example:
```make
CC = gcc
CFLAGS = -Wall -O2
```
These variables can be used throughout the file, like `$(CC)` and `$(CFLAGS)`.

#### 2. **Phony Targets:**
Declare a target as a phony. tells make that target is not associated with an actual file, so it will always execute the commands.

#### 3. **Pattern Rules:**
Pattern rules allow you to apply rules to a set of files with similar names. For example:
```make
%.o: %.c
    $(CC) $(CFLAGS) -c $< -o $@
```
- `%.o: %.c`: This rule applies to any `.o` file and its corresponding `.c` file.
- `$<`: Refers to the first dependency (the `.c` file).
- `$@`: Refers to the target (the `.o` file).

#### 4. **Special Variables:**
- `$@`: The target name (e.g., `program`).
- `$<`: The first dependency (e.g., `main.c`).
- `$^`: All dependencies (e.g., `main.o foo.o`).

#### 5. **Comments:**
You can add comments to a Makefile using the `#` symbol:
```make
# This is a comment
```

### Common Makefile Targets:
- **all**: The default target that builds the project.
- **clean**: Removes the compiled files (object files, executables).
- **install**: Installs the compiled program to a system directory.
- **test**: Runs the test suite.
